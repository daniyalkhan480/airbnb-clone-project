<%- include('./includes/filters.ejs')%>

<% layout('./layouts/boilerplate.ejs')-%>
<body>

    <!-- <h2 style="margin-left: 3rem;">All Listings</h2> -->
    <div class="cards-container">
        <% for (list of listings) {%>
            <a href="/listings/<%=list._id%>">
                <div class="mcard">
                    <img src="<%= list.image.url%>" alt="listing-img">
                    <p><b><%=list.title%></b></p>
                    <p>
                        Rs. <%=list.price%> / night
                        <i style="display: none;" class="tax-element"> &nbsp;&nbsp;&nbsp; + 18% GST</i>
                    </p>
                </div>
            </a>
        <% } %>     
    </div>
</body>


<script>
    let toggleBtn = document.querySelector("#flexSwitchCheckReverse");
    let taxElements = document.getElementsByClassName("tax-element");

    toggleBtn.addEventListener('change', function() {
        for(ele of taxElements){
            if(this.checked){
                ele.style.display = "inline";
            }else{
                ele.style.display = "none";
            }
        }
    });
</script>
